# *Spatial Signatures*

<CENTER>
    *Dynamic classification of*
</CENTER>

<CENTER>
    *the built environment*
</CENTER>

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <a href="https://darribas.org"><b>Dani Arribas-Bel</b></a>
            </CENTER>
        </td>

        <td>
            <CENTER>
                <a href="https://martinfleischmann.net/"><b>Martin Fleischmann</b></a>
            </CENTER>
        </td>
    </tr>
    <tr>
        <td>
            <CENTER>
                <a href="https://twitter.com/darribas">[`@darribas`]</b></a>
            </CENTER>
        </td>

        <td>
            <CENTER>
                <a href="https://twitter.com/martinfleis">[`@martinfleis`]</b></a>
            </CENTER>
        </td>
    </tr>
</table>

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td>
            <img src="../fig/pr/logo_liv.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
        <td>
            <img src="../fig/pr/logo_ati.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
        <td>
            <img src="../fig/pr/logo_gdsl.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
    </tr>
</table>

#
## How we arrange "stuff" in cities matters...

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <img src="../fig/misc/nyt_buildings_dc.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>

        <td>
            <CENTER>
                <img src="../fig/misc/nyt_buildings_mesa.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>
    </tr>
</table>

<span class='pie'>Source: *A map of every building in America* ([New York
    Times](https://www.nytimes.com/interactive/2018/10/12/us/map-of-every-building-in-the-united-states.html))</span>

##

... it matters *a lot*

<table>
    <col width="33%" height="50%">
    <col width="33%" height="50%">
    <col width="33%" height="50%">
    <tr>
        <td>
            <CENTER>
                <img src="../fig/misc/joue_density.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>

        <td>
            <CENTER>
                <img src="../fig/misc/cities_in_bad_shape.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>

        <td>
            <CENTER>
                <img src="../fig/misc/est_emissions.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>
    </tr>
    <tr class='fragment'>
        <td>
            <CENTER>
                <img src="../fig/misc/living_with_beauty.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>

        <td>
            <CENTER>
                <img src="../fig/misc/oecd_rethinking_sprawl.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>

        <td>
            <CENTER>
                <img src="../fig/misc/un_nua.png" style="width:100%;vertical-align:middle">
            </CENTER>
        </td>
    </tr>
</table>


#
## Urban Form

<CENTER>
    *What does it look like?*
</CENTER>

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        "Physical structure and appearance of cities"
    </span>
</CENTER>

## What do we talk about...

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        ... when we talk about urban morphology?
    </span>
</CENTER>
<br />
<table>
    <col width="25%">
    <col width="25%">
    <col width="25%">
    <col width="25%">
    <tr>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    buildings
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    streets
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    plots
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    open spaces
                </span>
            </CENTER>
        </td>
    </tr>
</table>

## How can we describe it...

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        ... numerically?
    </span>
</CENTER>

## Urban morphometrics

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        "quantitative analysis of urban form"
    </span>
</CENTER>

<br />
<CENTER>
    <span class='fragment'>
        All about <span class='hlg'>measuring</span>.
    </span>
</CENTER>

## Measuring

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    dimension
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    shape
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    spatial distribution
                </span>
            </CENTER>
        </td>
    </tr>
    <tr>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    intensity
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    connectivity
                </span>
            </CENTER>
        </td>
        <td style="vertical-align:middle">
            <CENTER>
                <span class='fragment'>
                    diversity
                </span>
            </CENTER>
        </td>
    </tr>
</table>

## Why?

<CENTER>
    <span class='fragment'>
        Because we (finally) can!
    </span>
</CENTER>

## Data

<CENTER>
    <span class='fragment'>
        <img src="../fig/misc/osm.png" style="width:100%;vertical-align:middle;box-shadow:none">
    </span>
</CENTER>

## Tools
<table>
    <col width="25%">
    <col width="25%">
    <col width="25%">
    <col width="25%">
    <tr>
        <td>
            <CENTER>
                <span class='fragment'>
                    OSMnx
                </span>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    PySAL
                </span>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    foot
                </span>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    momepy
                </span>
            </CENTER>
        </td>
    </tr>
</table>

## momepy

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        Urban Morphology Measuring Toolkit
    </span>
</CENTER>
<br />
<CENTER>
    <span class='fragment'>
        <a href="https://momepy.org">momepy.org</a>
    </span>
</CENTER>

## Few examples

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        ... before we move on.
    </span>
</CENTER>

##

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <img src="../fig/misc/momepy_lal.png" style="width:100%;vertical-align:middle;box-shadow:none">
                <SMALL>
                    longest axis length<br>
                    <span style='color:#3b6e8c'>dimension</span>
                </SMALL>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    <img src="../fig/misc/momepy_eri.png" style="width:100%;vertical-align:middle;box-shadow:none">
                    <SMALL>
                        equivalent rectangular index<br>
                        <span style='color:#3b6e8c'>shape</span>
                    </SMALL>
                </span>
            </CENTER>
        </td>
    </tr>
</table>

##

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <img src="../fig/misc/momepy_ndis.png" style="width:100%;vertical-align:middle;box-shadow:none">
                <SMALL>
                    distance to neighbours<br>
                    <span style='color:#3b6e8c'>spatial distribution</span>
                </SMALL>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    <img src="../fig/misc/momepy_car.png" style="width:100%;vertical-align:middle;box-shadow:none">
                    <SMALL>
                        covered area ratio<br>
                        <span style='color:#3b6e8c'>intensity</span>
                    </SMALL>
                </span>
            </CENTER>
        </td>
    </tr>
</table>

##

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <img src="../fig/misc/momepy_mca.png" style="width:100%;vertical-align:middle;box-shadow:none">
                <SMALL>
                    closeness centrality<br>
                    <span style='color:#3b6e8c'>connectivity</span>
                </SMALL>
            </CENTER>
        </td>
        <td>
            <CENTER>
                <span class='fragment'>
                    <img src="../fig/misc/momepy_div.png" style="width:100%;vertical-align:middle;box-shadow:none">
                    <SMALL>
                        Simpson's diversity of tessellation area<br>
                        <span style='color:#3b6e8c'>diversity</span>
                    </SMALL>
                </span>
            </CENTER>
        </td>
    </tr>
</table>

## Evolution of urban patterns

## 42 places, 6 historical periods

<CENTER>
    <img src="../fig/misc/gean_map.svg" style="width:100%;vertical-align:middle;box-shadow:none">
</CENTER>

## 400 m buffer

<CENTER>
    <img src="../fig/misc/gean_case_illustrations.png" style="width:70%;vertical-align:top;box-shadow:none">
</CENTER>

## Scale peaked in modernism

<CENTER>
    <img src="../fig/misc/gean_results_1.png" style="width:60%;vertical-align:top;box-shadow:none">
</CENTER>

## We forgot how to make a grid

<CENTER>
    <img src="../fig/misc/gean_results_4.png" style="width:60%;vertical-align:top;box-shadow:none">
</CENTER>

## Classification

#

## Spatial Signatures

## {data-transition="none"}

<CENTER>
    *A characterisation of space based on form and function designed to understand urban environments*
</CENTER>

## {data-transition="none"}

<CENTER>
    *A <span class="hlg">characterisation of space</span> based on form and function designed to understand urban
    environments*
</CENTER>

## {data-transition="none"}

<CENTER>
    *A characterisation of space based on <span class="hlg">form and function</span> designed to understand urban
    environments*
</CENTER>

## {data-transition="none"}

<CENTER>
    *A characterisation of space based on form and function designed to understand <span class="hlg">urban
        environments</span>*
</CENTER>


## Form

<CENTER>
    *What does it look like?*
</CENTER>

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        "Physical structure and appearance of cities"
    </span>
</CENTER>

<span class='fragment'>
    Qualitative, quant. case studies, <span class='hlg'>morphometrics</span>, remotely sensed
</span>

## Function

<CENTER>
    *What is it used for?*
</CENTER>

<CENTER>
    <span class='fragment' style='color:#3b6e8c'>
        "Activities that take place within an environment"
    </span>
</CENTER>

<span class='fragment'>
    Geography, Economics, Sociology, Environmental Sciences, Tansport studies...
</span>


## Form & Function

- Richer picture
- Topography, history, technology, cultural values...
- More robust representations

## Opportunities

We don't have good ways of measuring form & function in cities

## Opportunities

<img src="../fig/sp_sig/venn.svg" style="width:100%;vertical-align:middle;box-shadow:none">

## Opportunities

- Fragmented understanding

- Physical classification - <span class='hlg'>???</span> - Geodemographics

## {data-transition="none"}

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td>
            <CENTER>
                Enclosed Tessellation
            </CENTER>
        </td>
        <td>
            <CENTER>
                Embedding *form* & *function*
            </CENTER>
        </td>
        <td>
            <CENTER>
                Spatial Signatures
            </CENTER>
        </td>
    </tr>

    <tr>
        <td class="fragment fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/et_footprints_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>
        <td>
        </td>
        <td>
        </td>
    </tr>

</table>

## {data-transition="zoom"}
<CENTER>
<img src="../fig/sp_sig/tessellation_bcn_sample.png" style="width:70%;vertical-align:middle;box-shadow:none">
</CENTER>

## {data-transition="none"}

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td>
            <CENTER>
                Enclosed Tessellation
            </CENTER>
        </td>
        <td>
            <CENTER>
                Embedding *form* & *function*
            </CENTER>
        </td>
        <td>
            <CENTER>
                Spatial Signatures
            </CENTER>
        </td>
    </tr>

    <tr>
        <td class="fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/et_footprints_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>

        <td class="fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/form_function_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>

        <td>
        </td>
    </tr>

</table>

## Characters

<table>
<col width="50%">
<col width="50%">
<tr>
<td>
<CENTER>
<span class="hlg">Form</span>
</CENTER>
- Building
- ET cell
- Street segment
- Cell context
- ...
</td>
<td class="fragment">
<CENTER>
<span class="hlg">Function</span>
</CENTER>
- Population
- Land use/cover
- Access to uses
- Activity densities
- ...
</td>
<tr>
</table>


## Context

<CENTER>
Every piece of information is considered within its spatial context
</CENTER>

## {data-transition="zoom"}
<CENTER>
<img src="../fig/sp_sig/tessellation_bcn_context.png" style="width:70%;vertical-align:middle;box-shadow:none">
</CENTER>

## {data-transition="none"}

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td>
            <CENTER>
                Enclosed Tessellation
            </CENTER>
        </td>
        <td>
            <CENTER>
                Embedding *form* & *function*
            </CENTER>
        </td>
        <td>
            <CENTER>
                Spatial Signatures
            </CENTER>
        </td>
    </tr>

    <tr>
        <td class="fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/et_footprints_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>

        <td class="fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/form_function_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>

        <td class="fade-in-then-semi-out">
            <CENTER>
                <img src="../fig/sp_sig/signatures_no_labels.svg"
                    style="width:80%;vertical-align:middle;box-shadow:none">
            </CENTER>
        </td>
    </tr>

</table>


## Benefits

- Data-driven & (multidiscipline) theory-informed
- Granular & scalable
- Flexible deployment

#
## Illustration

## The Setup

Five *different* cities

- Historical environments
- Geography & culture
- Data landscapes

## The Cities

<CENTER>
    <img src="../fig/sp_sig/examples_map.svg" style="width:100%;vertical-align:middle;box-shadow:none">
</CENTER>


## The Data

<table>
<col width="50%">
<col width="50%">
<tr>
<td>
<CENTER>
<span class="hlg">Form</span>
</CENTER>
- Local open data
- OpenStreetMap
- Satellite-derived
</td>
<td>
<CENTER>
<span class="hlg">Function</span>
</CENTER>
- Local open data
- Land use/cover
- Global grids
- Nightlights
</td>
<tr>
</table>

<CENTER>
Clustered with K-Means + clustergram
</CENTER>

## The Signatures

<table>
    <col width="20%">
    <col width="20%">
    <col width="20%">
    <col width="20%">
    <col width="20%">
    <tr>
        <td>
            <img src="../fig/sp_sig/Barcelona_signatures.png" style="width:300px;vertical-align:bottom">

            <CENTER>
                Barcelona
            </CENTER>
        </td>

        <td>
            <img src="../fig/sp_sig/Dar_es_Salaam_signatures.png" style="width:300px;vertical-align:bottom">

            <CENTER>
                Dar es Salaam
            </CENTER>
        </td>

        <td>
            <img src="../fig/sp_sig/Houston_signatures.png" style="width:300px;vertical-align:bottom">

            <CENTER>
                Houston
            </CENTER>
        </td>

        <td>
            <img src="../fig/sp_sig/Medellin_signatures.png" style="width:300px;vertical-align:bottom">

            <CENTER>
                Medellin
            </CENTER>
        </td>

        <td>
            <img src="../fig/sp_sig/Singapore_signatures.png" style="width:300px;vertical-align:bottom">

            <CENTER>
                Singapore
            </CENTER>
        </td>

    </tr>
</table>

## {data-transition="none" data-background-image="../fig/sp_sig/barcelona_signatures_and_buildings_background.png"
data-background-size="contain"}

<span class="pie">Barcelona</span>

## {data-transition="none" data-background-image="../fig/sp_sig/houston_medellin_background.png"
data-background-size="contain"}

<span class="pie">Houston | Medellin</span>

## {data-transition="none" data-background-image="../fig/sp_sig/singapore_dar_es_salaam_background.png"
data-background-size="contain"}

<span class="pie">Singapore | Dar es Salaam</span>

#
## To take away

1. Urban <span class="hlg">*form*</span> and <span class="hlg">*function*</span> matter
1. <span class="hlg">Spatial Signatures</span>: F&F for cities, in detail, at scale
1. Good <span class="hlg">measurement</span> $\rightarrow$ better <span class="hlg">understanding</span>

# *Spatial Signatures*

<CENTER>
    *Dynamic classification of*
</CENTER>

<CENTER>
    *the built environment*
</CENTER>

<table>
    <col width="50%">
    <col width="50%">
    <tr>
        <td>
            <CENTER>
                <a href="https://darribas.org"><b>Dani Arribas-Bel</b></a>
            </CENTER>
        </td>

        <td>
            <CENTER>
                <a href="https://martinfleischmann.net/"><b>Martin Fleischmann</b></a>
            </CENTER>
        </td>
    </tr>
    <tr>
        <td>
            <CENTER>
                <a href="https://twitter.com/darribas">[`@darribas`]</b></a>
            </CENTER>
        </td>

        <td>
            <CENTER>
                <a href="https://twitter.com/martinfleis">[`@martinfleis`]</b></a>
            </CENTER>
        </td>
    </tr>
</table>

<table>
    <col width="33%">
    <col width="33%">
    <col width="33%">
    <tr>
        <td>
            <img src="../fig/pr/logo_liv.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
        <td>
            <img src="../fig/pr/logo_ati.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
        <td>
            <img src="../fig/pr/logo_gdsl.png" style="width:300px;vertical-align:middle;box-shadow:none">
        </td>
    </tr>
</table>